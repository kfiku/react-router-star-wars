(this["webpackJsonpreact-router-star-wars"]=this["webpackJsonpreact-router-star-wars"]||[]).push([[0],{22:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),r=n(15),l=n.n(r),s=(n(22),n(4)),a=n(2);function o(){return"useRouteMatchParams"===localStorage.getItem("hookType")}function d(){return"useRouteMatch"===localStorage.getItem("hookType")}var j=n(16),u=n(9);function p(e,t){var n=Object(a.f)(),c=h(n.location.pathname,e,t),r=Object(i.useRef)(c),l=Object(i.useState)(c),s=Object(u.a)(l,2),o=s[0],d=s[1];return Object(i.useEffect)((function(){var i=n.listen((function(n){var i=h(n.pathname,e,t);(function(e,t){var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!0;return n.some((function(n){return e[n]!==t[n]}))})(i,r.current)&&(r.current=i,d(i))}));return function(){return i()}}),[n,r,d,t,e]),o}function h(e,t,n){var i=Object(a.e)(e,t);return(n||(i?Object.keys(i.params):[])).reduce((function(e,t){var n=null===i||void 0===i?void 0:i.params[t];return n?Object.assign(e,Object(j.a)({},t,n)):e}),{})}var b=o()?function(){return p("/film/:filmId")}:d()?function(){var e;return null===(e=Object(a.h)("/film/:filmId"))||void 0===e?void 0:e.params}:function(){return Object(a.g)()};var f=o()?function(){return p("/film/:filmId/peoples/:peopleId",["peopleId"])}:d()?function(){var e;return null===(e=Object(a.h)("/film/:filmId/peoples/:peopleId"))||void 0===e?void 0:e.params}:function(){return Object(a.g)()};function O(e){var t=Object(i.useState)({isLoading:!0,data:{}}),n=Object(u.a)(t,2),c=n[0],r=n[1];return Object(i.useEffect)((function(){var t=!1;return r({isLoading:!0,data:{}}),fetch(e).then((function(e){return e.json()})).then((function(e){t||r({isLoading:!1,data:e})})),function(){t=!0}}),[e]),c}var v=n(0);function m(e){var t=e.peoples;return Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Peoples list:"}),Object(v.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(g,{id:(t=e,t.split("people/")[1].split("/")[0])},e);var t}))})]}),Object(v.jsx)(a.c,{children:Object(v.jsx)(a.a,{path:"/film/:filmId/peoples/:peopleId",children:Object(v.jsx)(I,{})})})]})}function x(e){var t=O("https://swapi.dev/api/people/".concat(e,"/")),n=t.data;return{isLoading:t.isLoading,people:n}}function g(e){var t=e.id,n=b().filmId,i=x(t),c=i.people,r=i.isLoading;return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/film/".concat(n,"/peoples/").concat(t),children:r?"...":null===c||void 0===c?void 0:c.name})})}function I(){var e=x(f().peopleId),t=e.people;return e.isLoading?Object(v.jsx)("div",{children:"loading"}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:null===t||void 0===t?void 0:t.name}),Object(v.jsxs)("p",{children:["Skin color: ",null===t||void 0===t?void 0:t.skin_color]}),Object(v.jsxs)("p",{children:["Gender: ",null===t||void 0===t?void 0:t.gender]}),Object(v.jsxs)("p",{children:["Height: ",null===t||void 0===t?void 0:t.height]})]})}var R=o()?function(){return p("/film/:filmId/planets/:planetId",["planetId"])}:d()?function(){var e;return null===(e=Object(a.h)("/film/:filmId/planets/:planetId"))||void 0===e?void 0:e.params}:function(){return Object(a.g)()};function L(e){var t=e.planets;return Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Planets list:"}),Object(v.jsx)("ul",{children:null===t||void 0===t?void 0:t.map((function(e){return Object(v.jsx)(P,{id:(t=e,t.split("planets/")[1].split("/")[0])},e);var t}))})]}),Object(v.jsx)(a.c,{children:Object(v.jsx)(a.a,{path:"/film/:filmId/planets/:planetId",children:Object(v.jsx)(k,{})})})]})}function P(e){var t=e.id,n=b().filmId,i=w(t),c=i.planet,r=i.isLoading;return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/film/".concat(n,"/planets/").concat(t),children:r?"...":null===c||void 0===c?void 0:c.name})})}function k(){var e=w(R().planetId).planet;return Object(v.jsxs)("div",{children:[Object(v.jsx)("h3",{children:null===e||void 0===e?void 0:e.name}),Object(v.jsxs)("p",{children:["Climate: ",null===e||void 0===e?void 0:e.climate]}),Object(v.jsxs)("p",{children:["Gravity: ",null===e||void 0===e?void 0:e.gravity]}),Object(v.jsxs)("p",{children:["Diameter: ",null===e||void 0===e?void 0:e.diameter]})]})}function w(e){var t=O("https://swapi.dev/api/planets/".concat(e,"/")),n=t.data;return{isLoading:t.isLoading,planet:n}}function M(){var e,t=function(){var e=O("https://swapi.dev/api/films/"),t=e.data;return{isLoading:e.isLoading,films:null===t||void 0===t?void 0:t.results}}(),n=t.films,i=t.isLoading;return console.log("RENDER FilmsList",i?"isLoading":""),i?Object(v.jsx)("div",{children:"loading"}):Object(v.jsxs)("div",{className:"flex",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:"Films List:"}),Object(v.jsx)("ul",{children:null===n||void 0===n||null===(e=n.map)||void 0===e?void 0:e.call(n,(function(e){return Object(v.jsx)(S,{film:e},e.episode_id)}))})]}),Object(v.jsx)(a.c,{children:Object(v.jsx)(a.a,{path:"/film/:filmId",children:Object(v.jsx)(y,{})})})]})}function S(e){var t=e.film;return Object(v.jsx)("li",{children:Object(v.jsx)(s.b,{to:"/film/".concat(t.episode_id),children:t.title})},t.episode_id)}function y(){var e=b().filmId,t=function(e){var t=O("https://swapi.dev/api/films/".concat(e,"/")),n=t.data;return{isLoading:t.isLoading,film:n}}(e),n=t.film,i=t.isLoading;return console.log("RENDER FILM",e,i?"isLoading":n.title),i?Object(v.jsx)("div",{children:"loading"}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h2",{children:n.title}),Object(v.jsxs)("p",{children:["Release date: ",n.release_date]}),Object(v.jsxs)("p",{children:["Director: ",n.director]}),Object(v.jsxs)("p",{children:[Object(v.jsx)(s.b,{to:"/film/".concat(e,"/peoples"),children:"Peoples"})," | ",Object(v.jsx)(s.b,{to:"/film/".concat(e,"/planets"),children:"Planets"})]}),Object(v.jsxs)(a.c,{children:[Object(v.jsx)(a.a,{path:"/film/:filmId/peoples",children:Object(v.jsx)(m,{peoples:n.characters.slice(0,10)})}),Object(v.jsx)(a.a,{path:"/film/:filmId/planets",children:Object(v.jsx)(L,{planets:n.planets.slice(0,10)})})]})]})}function E(){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"React Router Star Wars"}),Object(v.jsx)("p",{children:"Show and compare different hook implementation to get route props from current URL."})]})}function N(){var e=localStorage.getItem("hookType")||"useParams",t=Object(i.useState)(e),n=Object(u.a)(t,2),c=n[0],r=n[1];return Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("label",{children:"Select type of hook: "}),Object(v.jsxs)("select",{onChange:function(e){var t=e.target.value;r(t),localStorage.setItem("hookType",t),window.location.reload()},value:c,children:[Object(v.jsx)("option",{value:"useParams",children:"React Router useParams"}),Object(v.jsx)("option",{value:"useRouteMatch",children:"React Router useRouteMatch"}),Object(v.jsx)("option",{value:"useRouteMatchParams",children:"Custom useRouteMatchParams"})]})]}),Object(v.jsx)(_,{value:c})]})}function _(e){switch(e.value){case"useParams":return Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:"const { filmId } = useParams();"})});case"useRouteMatch":return Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:'const { filmId } = useRouteMatch("/film/:filmId")?.params;'})});case"useRouteMatchParams":return Object(v.jsx)("pre",{children:Object(v.jsx)("code",{children:'const { filmId } = useRouteMatchParams("/film/:filmId");'})});default:return Object(v.jsx)("span",{})}}function D(){return Object(v.jsx)(s.a,{basename:"/react-router-star-wars",children:Object(v.jsx)(a.c,{children:Object(v.jsxs)(a.a,{path:"/",children:[Object(v.jsx)(E,{}),Object(v.jsx)(N,{}),Object(v.jsx)("hr",{}),Object(v.jsx)(M,{})]})})})}l.a.render(Object(v.jsx)(c.a.StrictMode,{children:Object(v.jsx)(D,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.d0f3143a.chunk.js.map